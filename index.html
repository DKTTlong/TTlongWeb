<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è€å³¨å±±è„‘ç­‹æ€¥è½¬å¼¯</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: "å¾®è½¯é›…é»‘", sans-serif;
      max-width: 600px;
      margin: 20px auto;
      padding: 0 20px;
      background: #f0f2f5;
    }
    /* å¼€å§‹ç•Œé¢æ ·å¼ */
    .start-box {
      background: white;
      padding: 40px 25px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      text-align: center;
    }
    .start-box h1 {
      color: #2d3748;
      font-size: 1.8em;
      margin-bottom: 10px;
      font-weight: bold;
    }
    .start-box .subtitle {
      color: #666;
      font-size: 1.2em;
      margin-bottom: 30px;
      font-weight: 500;
    }
    #startBtn {
      background: #007bff;
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 8px;
      font-size: 1.2em;
      cursor: pointer;
      width: 100%;
    }
    #startBtn:hover {
      background: #0069d9;
    }
    /* ç­”é¢˜ç•Œé¢æ ·å¼ */
    .game-box {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      display: none; /* åˆå§‹éšè— */
    }
    #progress {
      color: #666;
      font-size: 0.95em;
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #timer {
      font-weight: 500;
      color: #007bff;
    }
    #question {
      font-size: 1.3em;
      padding: 18px;
      background: #f8f9fa;
      border-radius: 8px;
      margin-bottom: 20px;
      min-height: 40px;
    }
    #answerInput {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      margin-bottom: 12px;
      box-sizing: border-box;
    }
    .btn-group {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }
    #submitBtn {
      background: #007bff;
      color: white;
      border: none;
      padding: 12px 0;
      border-radius: 8px;
      font-size: 1.05em;
      cursor: pointer;
      flex: 1;
    }
    #submitBtn:hover {
      background: #0069d9;
    }
    #skipBtn {
      background: #ffc107;
      color: #333;
      border: none;
      padding: 12px 0;
      border-radius: 8px;
      font-size: 1.05em;
      cursor: pointer;
      flex: 1;
    }
    #skipBtn:hover {
      background: #ffb300;
    }
    #restartBtn {
      background: #28a745;
      color: white;
      border: none;
      padding: 12px 0;
      border-radius: 8px;
      font-size: 1.05em;
      cursor: pointer;
      width: 100%;
      display: none;
      margin-top: 10px;
    }
    #restartBtn:hover {
      background: #218838;
    }
    #hint {
      margin-top: 15px;
      font-size: 1em;
      font-weight: 500;
      min-height: 20px;
    }
    #result {
      margin-top: 20px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      display: none;
    }
    #result h3 {
      margin-top: 0;
      color: #2d3748;
    }
    #result p {
      font-size: 1.1em;
      margin: 8px 0;
    }
    .success {
      color: #28a745;
    }
    .error {
      color: #dc3545;
    }
    .skip {
      color: #ff8c00;
    }
    .score-high {
      color: #28a745;
      font-weight: bold;
    }
    .score-middle {
      color: #ffc107;
      font-weight: bold;
    }
    .score-low {
      color: #dc3545;
      font-weight: bold;
    }
    #totalTime {
      color: #007bff;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <!-- å¼€å§‹ç•Œé¢ -->
  <div class="start-box" id="startBox">
    <h1>è€å³¨å±±è„‘ç­‹æ€¥è½¬å¼¯</h1>
    <div class="subtitle">åˆ¶ä½œï¼šè·³è·³é¾™</div>
    <button id="startBtn">å¼€å§‹ç­”é¢˜</button>
  </div>

  <!-- ç­”é¢˜ç•Œé¢ -->
  <div class="game-box" id="gameBox">
    <div id="progress">
      <span id="questionProgress">ç¬¬ 1/50 é¢˜</span>
      <span id="timer">ç”¨æ—¶ï¼š00:00:00</span>
    </div>
    <div id="question"></div>
    <input type="text" id="answerInput" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
    <div class="btn-group">
      <!-- æŒ‰é’®ä½ç½®å·²äº¤æ¢ï¼šå…ˆæ˜¾ç¤ºâ€œè·³è¿‡â€ï¼Œå†æ˜¾ç¤ºâ€œæäº¤ç­”æ¡ˆâ€ -->
      <button id="skipBtn">è·³è¿‡æœ¬é¢˜</button>
      <button id="submitBtn">æäº¤ç­”æ¡ˆ</button>
    </div>
    <button id="restartBtn">é‡æ–°å¼€å§‹ç­”é¢˜</button>
    <div id="hint"></div>
    <!-- ç­”é¢˜ç»“æœå±•ç¤ºåŒº -->
    <div id="result">
      <h3>ğŸ“ ç­”é¢˜ç»“æœç»Ÿè®¡</h3>
      <p>æ€»é¢˜æ•°ï¼š<span id="totalCount">50</span> é¢˜</p>
      <p>ç­”å¯¹ï¼š<span id="correctCount">0</span> é¢˜</p>
      <p>ç­”é”™ï¼š<span id="wrongCount">0</span> é¢˜</p>
      <p>è·³è¿‡ï¼š<span id="skipCount">0</span> é¢˜</p>
      <p>æœ€ç»ˆå¾—åˆ†ï¼š<span id="finalScore">0</span> åˆ†ï¼ˆæ»¡åˆ†50åˆ†ï¼‰</p>
      <p>æ€»ç­”é¢˜ç”¨æ—¶ï¼š<span id="totalTime">00:00:00</span></p>
      <p id="scoreTips"></p>
    </div>
  </div>

  <script>
    // å®Œæ•´é¢˜åº“ï¼ˆ50é“é¢˜ï¼Œæ”¯æŒå¤šç­”æ¡ˆåŒ¹é…ï¼‰
    const questionBank = [
      { q: "ç±³çš„å¦ˆå¦ˆæ˜¯è°ï¼Ÿ", a: "èŠ±ï¼ˆèŠ±ç”Ÿç±³ï¼‰", match: ["èŠ±"] },
      { q: "ä¸€é¢—å¿ƒå€¼å¤šå°‘é’±ï¼Ÿ", a: "ä¸€äº¿ï¼ˆä¸€å¿ƒä¸€æ„ï¼‰", match: ["ä¸€äº¿", "1äº¿"] },
      { q: "èº«ä»½è¯æ‰äº†æ€ä¹ˆåŠï¼Ÿ", a: "æ¡èµ·æ¥", match: ["æ¡èµ·æ¥"] },
      { q: "ä»€ä¹ˆè™«æ‰“ç¯ç¬¼ï¼Ÿ", a: "è¤ç«è™«", match: ["è¤ç«è™«"] },
      { q: "ä»€ä¹ˆçº¿å¯ä»¥åƒï¼Ÿ", a: "ç±³çº¿", match: ["ç±³çº¿"] },
      { q: "ä»€ä¹ˆåŠ¨ç‰©è´´åœ¨å¢™ä¸Šï¼Ÿ", a: "æµ·è±¹ï¼ˆæµ·æŠ¥ï¼‰", match: ["æµ·è±¹", "æµ·æŠ¥"] },
      { q: "å“ªä¸€ç§ç«¹å­ä¸é•¿åœ¨åœŸé‡Œï¼Ÿ", a: "çˆ†ç«¹", match: ["çˆ†ç«¹"] },
      { q: "æŠŠ8åˆ†æˆä¸¤åŠæ˜¯å¤šå°‘ï¼Ÿ", a: "0", match: ["0", "é›¶"] },
      { q: "ä»€ä¹ˆé”…å¯ä»¥åƒï¼Ÿ", a: "ç«é”…", match: ["ç«é”…"] },
      { q: "ä»€ä¹ˆèŠ±ä¸èƒ½æ‘¸ï¼Ÿ", a: "ç«èŠ±", match: ["ç«èŠ±"] },
      { q: "ä¸ºä»€ä¹ˆé’è›™è·³çš„æ¯”æ ‘é«˜ï¼Ÿ", a: "å› ä¸ºæ ‘ä¸ä¼šè·³", match: ["æ ‘ä¸ä¼šè·³", "å› ä¸ºæ ‘ä¸ä¼šè·³"] },
      { q: "ä»€ä¹ˆæ°´ä¸èƒ½å–ï¼Ÿ", a: "è–ªæ°´", match: ["è–ªæ°´"] },
      { q: "ä»€ä¹ˆä¸œè¥¿è¶Šå†·è¶Šçˆ±å‡ºæ¥ï¼Ÿ", a: "é¼»æ¶•", match: ["é¼»æ¶•"] },
      { q: "ä»€ä¹ˆçƒä¼šè‡ªå·±é•¿å¤§ï¼Ÿ", a: "ä»™äººçƒ", match: ["ä»™äººçƒ"] },
      { q: "ä»€ä¹ˆè›‹ä¸­çœ‹ä¸ä¸­åƒï¼Ÿ", a: "è„¸è›‹", match: ["è„¸è›‹"] },
      { q: "ä»€ä¹ˆé±¼ä¸èƒ½åƒï¼Ÿ", a: "æœ¨é±¼", match: ["æœ¨é±¼"] },
      { q: "æ–°åå­—å…¸æœ‰å‡ ä¸ªå­—ï¼Ÿ", a: "å››ä¸ªå­—", match: ["å››", "4","å››ä¸ª", "4ä¸ª","å››ä¸ªå­—", "4ä¸ªå­—"] },
      { q: "ä»€ä¹ˆçƒä¸èƒ½ç©ï¼Ÿ", a: "åœ°çƒ", match: ["åœ°çƒ"] },
      { q: "å†å²ä¸Šä»€ä¹ˆäººè·‘å¾—æœ€å¿«ï¼Ÿ", a: "æ›¹æ“ï¼ˆè¯´æ›¹æ“æ›¹æ“åˆ°ï¼‰", match: ["æ›¹æ“"] },
      { q: "å¤©çš„å¥³å„¿å«ä»€ä¹ˆï¼Ÿ", a: "ä¸½è´¨ï¼ˆå¤©ç”Ÿä¸½è´¨ï¼‰", match: ["ä¸½è´¨"] },
      { q: "å¤©çš„å„¿å­å«ä»€ä¹ˆï¼Ÿ", a: "æˆ‘æï¼ˆå¤©ç”Ÿæˆ‘æï¼‰", match: ["æˆ‘æ"] },
      { q: "é£çš„å­©å­å«ä»€ä¹ˆï¼Ÿ", a: "æ°´èµ·ï¼ˆé£ç”Ÿæ°´èµ·ï¼‰", match: ["æ°´èµ·"] },
      { q: "ä»€ä¹ˆé±¼æœ€èªæ˜ï¼Ÿ", a: "é²¸é±¼ï¼ˆç²¾ï¼‰", match: ["é²¸é±¼", "é²¸"] },
      { q: "ä»€ä¹ˆç‹—ä¸å’¬äººï¼Ÿ", a: "çƒ­ç‹—", match: ["çƒ­ç‹—"] },
      { q: "é‡‘æœ¨æ°´ç«åœŸè°è…¿æœ€é•¿ï¼Ÿ", a: "ç«ï¼ˆç«è…¿è‚ ï¼‰", match: ["ç«"] },
      { q: "ä¸€æ–¤æ£‰èŠ±å’Œä¸€æ–¤é“é‚£ä¸ªæ›´é‡ï¼Ÿ", a: "ä¸€æ ·é‡", match: ["ä¸€æ ·é‡", "ä¸€æ ·"] },
      { q: "ä»€ä¹ˆç‹¼ä¸åƒç¾Šï¼Ÿ", a: "é»„é¼ ç‹¼", match: ["é»„é¼ ç‹¼"] },
      { q: "ä»€ä¹ˆç“œä¸èƒ½åƒï¼Ÿ", a: "å‚»ç“œ", match: ["å‚»ç“œ"] },
      { q: "ä»€ä¹ˆå¥¶ä¸èƒ½å–ï¼Ÿ", a: "æ´—é¢å¥¶", match: ["æ´—é¢å¥¶"] },
      { q: "ä»€ä¹ˆé‹ä¸å¥½ç©¿ï¼Ÿ", a: "å°é‹", match: ["å°é‹"] },
      { q: "ä»€ä¹ˆå¸ƒä¸èƒ½åšè¡£æœï¼Ÿ", a: "ç€‘å¸ƒ", match: ["ç€‘å¸ƒ"] },
      { q: "ä»€ä¹ˆä¸œè¥¿å¤©è¶Šçƒ­ï¼Œå®ƒçˆ¬å¾—è¶Šé«˜ï¼Ÿ", a: "æ¸©åº¦è®¡", match: ["æ¸©åº¦è®¡"] },
      { q: "ç”¨ä»€ä¹ˆæ‹–åœ°æœ€å¹²å‡€ï¼Ÿ", a: "ç”¨åŠ›", match: ["ç”¨åŠ›"] },
      { q: "ä»€ä¹ˆé¢ä¸èƒ½åƒï¼Ÿ", a: "ç”»é¢", match: ["ç”»é¢"] },
      { q: "ç”¨è¥¿ç“œå’Œæ¤°å­æ‰“å¤´ï¼Œå“ªä¸ªæ¯”è¾ƒç–¼ï¼Ÿ", a: "å¤´", match: ["å¤´"] },
      { q: "ä»€ä¹ˆçŒªæ²¡æœ‰å˜´ï¼Ÿ", a: "çç ", match: ["çç "] },
      { q: "ä»€ä¹ˆäººä¸€ä¸¾æˆåï¼Ÿ", a: "ä¸¾é‡å† å†›", match: ["ä¸¾é‡å† å†›"] },
      { q: "ä»€ä¹ˆè½¦ä¸èƒ½è½½äººè½½ç‰©ï¼Ÿ", a: "é£è½¦", match: ["é£è½¦"] },
      { q: "ä¸ºä»€ä¹ˆè¶…äººæ•‘äººè¦ç©¿ç´§èº«è¡£ï¼Ÿ", a: "æ•‘äººè¦ç´§", match: ["æ•‘äººè¦ç´§"] },
      { q: "å°ç™½åŠ å°ç™½ï¼Œæ‰“ä¸€åŠ¨ç‰©ï¼Ÿ", a: "å°ç™½å…”ï¼ˆtwoï¼‰", match: ["å°ç™½å…”", "å°å…”"] },
      { q: "å¤§è±¡çš„å·¦è€³æœµé•¿å¾—åƒä»€ä¹ˆï¼Ÿ", a: "å³è€³æœµ", match: ["å³è€³æœµ"] },
      { q: "ä¸ºä»€ä¹ˆé£æœºé£çš„æ—¶å€™ç¢°ä¸åˆ°æ˜Ÿæ˜Ÿï¼Ÿ", a: "æ˜Ÿæ˜Ÿä¼šé—ª", match: ["æ˜Ÿæ˜Ÿä¼šé—ª", "æ˜Ÿæ˜Ÿé—ª", "æ˜Ÿæ˜Ÿåœ¨é—ª"] },
      { q: "åäº”çš„æœˆäº®å¤šå°‘é’±ï¼Ÿ", a: "åå…­åœ†ï¼ˆå…ƒï¼‰", match: ["åå…­åœ†", "16åœ†", "åå…­å…ƒ", "16å…ƒ"] },
      { q: "èŠ±ä¸ºä»€ä¹ˆæç¬‘ï¼Ÿ", a: "èŠ±çš„æ¢—å¤š", match: ["èŠ±çš„æ¢—å¤š", "èŠ±æ¢—å¤š", "æ¢—å¤š"] },
      { q: "ä»€ä¹ˆå·¥ä½œä»¤äººæƒŠè®¶ï¼Ÿ", a: "æŒ–è—•ï¼ˆå“‡å“¦ï¼‰", match: ["æŒ–è—•"] },
      { q: "4+4+4+4æ‰“ä¸€ç§æ°´æœï¼Ÿ", a: "16ï¼ˆçŸ³æ¦´ï¼‰", match: ["16", "çŸ³æ¦´", "åå…­"] },
      { q: "åŒ…å­æœ€æ€•ä»€ä¹ˆï¼Ÿ", a: "è±†ï¼ˆè±†æ²™åŒ…ï¼‰", match: ["è±†", "è±†å­"] },
      { q: "ä»€ä¹ˆé±¼æœ€ç™½ç—´ï¼Ÿ", a: "é²¨ï¼ˆå‚»ï¼‰é±¼", match: ["é²¨é±¼", "é²¨"] },
      { q: "é»„è±†å¹´è½»æ—¶å€™å«ä»€ä¹ˆï¼Ÿ", a: "é’æ˜¥è±†", match: ["é’æ˜¥è±†", "é’æ˜¥ç—˜"] },
      { q: "2å’Œ4ä¹‹é—´æ˜¯ä»€ä¹ˆï¼Ÿ", a: "å’Œ", match: ["å’Œ"] }
    ];

    // å…ƒç´ è·å–
    const startBox = document.getElementById('startBox');
    const gameBox = document.getElementById('gameBox');
    const startBtn = document.getElementById('startBtn');
    const questionProgressEl = document.getElementById('questionProgress');
    const timerEl = document.getElementById('timer');
    const questionEl = document.getElementById('question');
    const inputEl = document.getElementById('answerInput');
    const hintEl = document.getElementById('hint');
    const submitBtn = document.getElementById('submitBtn');
    const skipBtn = document.getElementById('skipBtn');
    const restartBtn = document.getElementById('restartBtn');
    const resultEl = document.getElementById('result');
    const correctCountEl = document.getElementById('correctCount');
    const wrongCountEl = document.getElementById('wrongCount');
    const skipCountEl = document.getElementById('skipCount');
    const finalScoreEl = document.getElementById('finalScore');
    const totalTimeEl = document.getElementById('totalTime');
    const scoreTipsEl = document.getElementById('scoreTips');

    // å…¨å±€å˜é‡
    let currentQuestions, currentIndex;
    let correctCount = 0, wrongCount = 0, skipCount = 0;
    // è®¡æ—¶å™¨ç›¸å…³å˜é‡
    let startTime = null;
    let timerInterval = null;
    let totalElapsedTime = 0;

    // æ—¶é—´æ ¼å¼åŒ–å‡½æ•°ï¼ˆæ¯«ç§’è½¬ æ—¶:åˆ†:ç§’ï¼‰
    function formatTime(ms) {
      const totalSeconds = Math.floor(ms / 1000);
      const hours = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
      const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
      const seconds = String(totalSeconds % 60).padStart(2, '0');
      return `${hours}:${minutes}:${seconds}`;
    }

    // æ›´æ–°è®¡æ—¶å™¨æ˜¾ç¤º
    function updateTimer() {
      if (!startTime) return;
      const now = Date.now();
      totalElapsedTime = now - startTime;
      timerEl.textContent = `ç”¨æ—¶ï¼š${formatTime(totalElapsedTime)}`;
    }

    // å¯åŠ¨è®¡æ—¶å™¨
    function startTimer() {
      // é‡ç½®è®¡æ—¶å™¨
      clearInterval(timerInterval);
      startTime = Date.now();
      // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ—¶é—´
      timerInterval = setInterval(updateTimer, 1000);
      // ç«‹å³æ›´æ–°ä¸€æ¬¡
      updateTimer();
    }

    // åœæ­¢è®¡æ—¶å™¨
    function stopTimer() {
      clearInterval(timerInterval);
      updateTimer(); // æœ€åæ›´æ–°ä¸€æ¬¡æ—¶é—´
    }

    // ç­”æ¡ˆæ ‡å‡†åŒ–å‡½æ•°ï¼ˆå¤„ç†æ•°å­—/ä¸­æ–‡ã€å…ƒ/åœ†ã€ç©ºæ ¼ç­‰ï¼‰
    function normalizeAnswer(str) {
      if (!str) return '';
      // 1. å»é™¤ç©ºæ ¼ã€è½¬å°å†™
      let normalized = str.trim().toLowerCase();
      // 2. ç»Ÿä¸€â€œåœ†â€ä¸ºâ€œå…ƒâ€
      normalized = normalized.replace(/åœ†/g, 'å…ƒ');
      // 3. å¸¸è§æ•°å­—è½¬ä¸­æ–‡ï¼ˆåå‘ä¹Ÿå…¼å®¹ï¼‰
      const numMap = {
        '0': 'é›¶',
        '1': 'ä¸€',
        '8': 'å…«',
        '16': 'åå…­',
        '4': 'å››',
        '1äº¿': 'ä¸€äº¿'
      };
      // æ›¿æ¢æ•°å­—ä¸ºä¸­æ–‡ï¼ˆä¿è¯åŒ¹é…ä¸€è‡´æ€§ï¼‰
      for (const [num, cn] of Object.entries(numMap)) {
        if (normalized.includes(num)) {
          normalized = normalized.replace(num, cn);
        }
      }
      return normalized;
    }

    // éšæœºæ‰“ä¹±æ•´ä¸ªé¢˜åº“ï¼ˆ50é“é¢˜ï¼‰
    function get50RandomQuestions() {
      return [...questionBank].sort(() => Math.random() - 0.5);
    }

    // åˆå§‹åŒ–æ¸¸æˆ
    function initGame() {
      // é‡ç½®ç­”é¢˜æ•°æ®
      currentQuestions = get50RandomQuestions();
      currentIndex = 0;
      correctCount = 0;
      wrongCount = 0;
      skipCount = 0;

      // é‡ç½®ç•Œé¢
      inputEl.style.display = "block";
      submitBtn.style.display = "block";
      skipBtn.style.display = "block";
      restartBtn.style.display = "none";
      resultEl.style.display = "none";
      hintEl.textContent = "";

      // æ›´æ–°é¢˜ç›®è¿›åº¦
      questionProgressEl.textContent = `ç¬¬ ${currentIndex + 1}/50 é¢˜`;
      // æ˜¾ç¤ºç¬¬ä¸€é¢˜
      showQuestion();

      // å¯åŠ¨è®¡æ—¶å™¨
      startTimer();
    }

    // æ˜¾ç¤ºå½“å‰é¢˜ç›®
    function showQuestion() {
      questionEl.textContent = currentQuestions[currentIndex].q;
      hintEl.textContent = "";
      inputEl.value = ""; // ä»…åˆ‡æ¢é¢˜ç›®æ—¶æ¸…ç©ºï¼Œç­”é”™ä¸æ¸…ç©º
      // æ›´æ–°é¢˜ç›®è¿›åº¦
      questionProgressEl.textContent = `ç¬¬ ${currentIndex + 1}/50 é¢˜`;
    }

    // æäº¤ç­”æ¡ˆé€»è¾‘
    submitBtn.addEventListener('click', () => {
      const userAns = inputEl.value.trim();
      if (!userAns) {
        hintEl.className = "error";
        hintEl.textContent = "è¯·å…ˆè¾“å…¥ç­”æ¡ˆå†æäº¤å“¦ï¼";
        return;
      }

      // æ ‡å‡†åŒ–ç”¨æˆ·è¾“å…¥å’Œæ­£ç¡®ç­”æ¡ˆ
      const normalizedUserAns = normalizeAnswer(userAns);
      const currentQ = currentQuestions[currentIndex];
      const normalizedCorrectMatches = currentQ.match.map(item => normalizeAnswer(item));

      // åˆ¤æ–­æ˜¯å¦åŒ¹é…ä»»ä¸€æ­£ç¡®ç­”æ¡ˆ
      if (normalizedCorrectMatches.includes(normalizedUserAns)) {
        // ç­”å¯¹ï¼šåŠ åˆ†+æç¤º+è¿›å…¥ä¸‹ä¸€é¢˜
        correctCount++;
        hintEl.className = "success";
        hintEl.textContent = "ç­”å¯¹å•¦ï¼çœŸèªæ˜~";
        // å»¶è¿Ÿåˆ‡æ¢ä¸‹ä¸€é¢˜ï¼Œè®©ç”¨æˆ·çœ‹åˆ°åé¦ˆ
        setTimeout(() => {
          currentIndex++;
          if (currentIndex >= currentQuestions.length) {
            showResult(); // ç­”é¢˜ç»“æŸ
          } else {
            showQuestion();
          }
        }, 800);
      } else {
        // ç­”é”™ï¼šä»…æç¤ºé”™è¯¯ï¼Œä¸æ¸…ç©ºç­”æ¡ˆã€ä¸æ¢é¢˜
        wrongCount++; 
        hintEl.className = "error";
        hintEl.textContent = "ç­”é”™å•¦ï¼Œå†æƒ³æƒ³~";
      }
    });

    // è·³è¿‡æœ¬é¢˜é€»è¾‘ï¼ˆæ–°å¢äºŒæ¬¡ç¡®è®¤ï¼‰
    skipBtn.addEventListener('click', () => {
      // äºŒæ¬¡ç¡®è®¤å¼¹çª—ï¼Œç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€æ‰æ‰§è¡Œè·³è¿‡
      const confirmSkip = confirm("ç¡®å®šè¦è·³è¿‡æœ¬é¢˜å—ï¼Ÿè·³è¿‡å°†ç›´æ¥æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆå¹¶è¿›å…¥ä¸‹ä¸€é¢˜å“¦~");
      if (confirmSkip) {
        skipCount++;
        // å…¬å¸ƒæ­£ç¡®ç­”æ¡ˆ+æç¤ºè·³è¿‡
        const correctAns = currentQuestions[currentIndex].a;
        hintEl.className = "skip";
        hintEl.textContent = `å·²è·³è¿‡æœ¬é¢˜ âœ¨ æ­£ç¡®ç­”æ¡ˆï¼š${correctAns}`;
        // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€é¢˜
        setTimeout(() => {
          currentIndex++;
          if (currentIndex >= currentQuestions.length) {
            showResult(); // ç­”é¢˜ç»“æŸ
          } else {
            showQuestion();
          }
        }, 1200);
      }
      // ç”¨æˆ·ç‚¹å‡»â€œå–æ¶ˆâ€åˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
    });

    // å±•ç¤ºç­”é¢˜ç»“æœ
    function showResult() {
      // åœæ­¢è®¡æ—¶å™¨
      stopTimer();

      // éšè—ç­”é¢˜åŒºï¼Œæ˜¾ç¤ºç»“æœå’Œé‡æ–°å¼€å§‹æŒ‰é’®
      inputEl.style.display = "none";
      submitBtn.style.display = "none";
      skipBtn.style.display = "none";
      restartBtn.style.display = "block";
      resultEl.style.display = "block";

      // è®¡ç®—å¾—åˆ†ï¼ˆæ¯é¢˜1åˆ†ï¼Œä»…ç­”å¯¹å¾—åˆ†ï¼‰
      const finalScore = correctCount;
      
      // æ›´æ–°ç»Ÿè®¡æ•°æ®
      correctCountEl.textContent = correctCount;
      wrongCountEl.textContent = wrongCount;
      skipCountEl.textContent = skipCount;
      finalScoreEl.textContent = finalScore;
      // æ˜¾ç¤ºæ€»ç”¨æ—¶
      totalTimeEl.textContent = formatTime(totalElapsedTime);

      // å¾—åˆ†è¯„è¯­
      if (finalScore >= 40) {
        finalScoreEl.className = "score-high";
        scoreTipsEl.textContent = "ğŸ‰ å¤ªå‰å®³å•¦ï¼ä½ æ˜¯ç­”é¢˜å°èƒ½æ‰‹ï½";
      } else if (finalScore >= 20) {
        finalScoreEl.className = "score-middle";
        scoreTipsEl.textContent = "ğŸ‘ è¡¨ç°ä¸é”™ï¼Œç»§ç»­åŠ æ²¹ï¼";
      } else {
        finalScoreEl.className = "score-low";
        scoreTipsEl.textContent = "ğŸ’ª ä¸‹æ¬¡å†åŠªåŠ›ï¼Œå¤šè¯•è¯•å°±ä¼šå•¦ï¼";
      }

      // æ›´æ–°è¿›åº¦æç¤º
      questionProgressEl.textContent = "ç­”é¢˜ç»“æŸï¼";
    }

    // å¼€å§‹ç­”é¢˜æŒ‰é’®äº‹ä»¶
    startBtn.addEventListener('click', () => {
      startBox.style.display = "none"; // éšè—å¼€å§‹ç•Œé¢
      gameBox.style.display = "block"; // æ˜¾ç¤ºç­”é¢˜ç•Œé¢
      initGame(); // åˆå§‹åŒ–æ¸¸æˆå¹¶å¯åŠ¨è®¡æ—¶å™¨
    });

    // é‡æ–°å¼€å§‹ç­”é¢˜
    restartBtn.addEventListener('click', () => {
      // é‡ç½®è®¡æ—¶å™¨
      clearInterval(timerInterval);
      startTime = null;
      totalElapsedTime = 0;
      timerEl.textContent = "ç”¨æ—¶ï¼š00:00:00";
      // é‡æ–°åˆå§‹åŒ–æ¸¸æˆ
      initGame();
    });
  </script>
</body>
</html>